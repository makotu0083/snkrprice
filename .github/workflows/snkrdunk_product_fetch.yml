name: SNKRDUNK Product Fetch

on:
  workflow_dispatch:

jobs:

  run:

    runs-on: ubuntu-22.04

    steps:

      - uses: actions/checkout@v4


      - uses: actions/setup-python@v5
        with:
          python-version: "3.11"


      - name: Install deps
        run: |
          pip install -r requirements.txt
          playwright install chromium
          playwright install-deps chromium


      - name: Run script
        env:

          GOOGLE_SERVICE_ACCOUNT_JSON: ${{ secrets.GOOGLE_SERVICE_ACCOUNT_JSON }}
          SPREADSHEET_URL: ${{ secrets.SPREADSHEET_URL }}

          TARGET_GID: "0"

        run: |

          python main_snkrdunk_product.py
